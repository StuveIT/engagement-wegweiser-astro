---
import { convertToQuestions, type CollectionQuestionaire, type Question } from "../models/Questionaire";

import Layout from "../layouts/Layout.astro";
import { getCollection } from "astro:content";
import Card from "../components/Card.astro";
import Questionaire from "../components/Questionaire.vue";
import QuestionaireNavigation from "../components/QuestionaireNavigation.vue";

const questionaire: CollectionQuestionaire = await getCollection("questionaire");
const formattedQuestionaire: Question[] = convertToQuestions(questionaire);
---

<Layout>
	<Card>
		<Questionaire questionaire={formattedQuestionaire} client:load />
	</Card>
	<QuestionaireNavigation questionaire={formattedQuestionaire} index={0} client:load />
</Layout>